<header>
  <div class="top-bar">
    <div class="media-icons">
      <a
        target="_blank"
        href="https://www.instagram.com/ashly_perfectwig?igsh=cTdvNDRham5mNDNk"
        ><img src="assets/Instagram.png" alt="Instagram"
      /></a>
      <a
        target="_blank"
        href="https://www.whatsapp.com/catalog/573226994908/?app_absent=0"
        ><img src="assets/WhatsApp.png" alt="Whatsapp"
      /></a>
      <a
        target="_blank"
        href="https://www.tiktok.com/@ashly_perfectwig?_t=8n6Jut8GwlR&_r=1"
        ><img src="assets/TikTok.png" alt="Tik tok"
      /></a>
    </div>
    <div class="user-actions-bar">
      <div class="cart-icon-container">
        <img src="assets/User.png" alt="Cart" (click)="openCartModal()" />
        <span class="cart-badge" *ngIf="cart.length > 0">{{ cart.length }}</span>
      </div>
      <img src="assets/User.png" alt="User" (click)="handleUserClick()" />
    </div>
  </div>
  <nav class="navbar">
    <div class="navbar-header">
      <div class="hamburger" (click)="toggleNavbar()">&#9776;</div>
      <div class="navbar-container-title">
        <label class="navbar-title" id="navBarTitle">Perfect Wig</label>
        <label class="navbar-subtitle" id="navBarSubTitle"
          >By Ashly Estrada</label
        >
      </div>
    </div>
    <div class="navbar-links" [class.open]="navbarOpen">
      <div class="row">
        <a routerLink="/">INICIO</a>
        <a routerLink="/productos/extensiones-seminaturales">EXTENSIONES SEMINATURALES</a>
        <a routerLink="/productos/pelucas-seminaturales">PELUCAS SEMINATURALES</a>
        <a routerLink="/productos/coletas-seminaturales">COLETAS SEMINATURALES</a>
      </div>
      <div class="row">
        <a routerLink="/productos/linea-perfect">LÍNEA DE PRODUCTOS PERFECT</a>
        <a routerLink="/productos/pelucas-humanas">PELUCAS HUMANAS</a>
        <a routerLink="/productos/extensiones-humanas">EXTENSIONES HUMANAS</a>
        <a routerLink="/productos/frontales-humanos">FRONTALES HUMANOS</a>
      </div>
    </div>
  </nav>
</header>

<!-- <div class="containerHeader"> -->
<!-- <div class="containerNavbarInfo">
    <div class="containerSocialMediaNavbarInfo">
      <a
        target="_blank"
        routerLink="https://www.instagram.com/ashly_perfectwig?igsh=cTdvNDRham5mNDNk"
        ><img src="./assets/Instagram.png" alt="Instagram"
      /></a>
      <a
        target="_blank"
        routerLink="https://www.whatsapp.com/catalog/573226994908/?app_absent=0"
        ><img src="./assets/WhatsApp.png" alt="Whatsapp"
      /></a>
      <a
        target="_blank"
        routerLink="https://www.tiktok.com/@ashly_perfectwig?_t=8n6Jut8GwlR&_r=1"
        ><img src="./assets/TikTok.png" alt="Tik tok"
      /></a>
    </div>
    <div class="containerLabelNavbarInfo">
      <label> PAGO CONTRAENTREGA SOLO EN MEDELLIN </label>
    </div>
    <div class="containerLogoNavbarInfo">
      <img src="" alt="Cart" (click)="openCartModal()" />
      <img src="" alt="User" (click)="handleUserClick()" />
    </div>
  </div>
  <div class="containerNavBar">
    <div class="containerNavBarTitle">
      <label id="navBarTitle">Perfect Wig</label>
      <label id="navBarSubTitle">By Ashly Estrada</label>
    </div>
    <div class="containerNavBarMenu">
      <div id="navBarMenuRow">
        <a routerLink="/inicio">INICIO</a>
        <a routerLink="/productos">EXTENSIONES SEMINATURALES</a>
        <a routerLink="/productos">PELUCAS SEMINATURALES</a>
        <a routerLink="/productos">COLETAS SEMINATURALES</a>
      </div>
      <div id="navBarMenuRow">
        <a routerLink="/productos">LÍNEA DE PRODUCTOS PERFECT</a>
        <a routerLink="/productos">PELUCAS HUMANAS</a>
        <a routerLink="/productos">EXTENSIONES HUMANAS</a>
        <a routerLink="/productos">FRONTALES HUMANOS</a>
      </div>
    </div>
  </div> -->

  <div class="custom-modal" tabindex="-1" role="dialog" *ngIf="isCartModalOpen">
    <div class="custom-modal-dialog" role="document">
      <div class="custom-modal-content">
        <div class="custom-modal-header">
          <h5 class="custom-modal-title">Resumen del Carrito de Compras</h5>
          <button type="button" class="custom-close" (click)="closeCartModal()">
            <span>×</span>
          </button>
        </div>
        <div class="custom-modal-body">
          <div *ngIf="cart.length === 0">
            <p>Tu carrito está vacío.</p>
          </div>
          <div *ngFor="let item of cart">
            <p>{{ item.nombre }} - {{ item.cantidad }} x {{ item.precio | currency:'COP' }} = {{ item.subtotal | currency:'COP' }}</p>
          </div>
          <p>Total: {{ total | currency:'COP' }}</p>
        </div>
        <div class="custom-modal-footer">
          <button type="button" class="custom-btn custom-btn-secondary" (click)="clearCart()">Limpiar Carrito</button>
          <button type="button" class="custom-btn custom-btn-secondary" (click)="closeCartModal()">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
  
  

<!-- Modal Login -->
<div class="modal" tabindex="-1" role="dialog" *ngIf="isLoginModalOpen">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Iniciar Sesión</h5>
        <button type="button" class="close" (click)="closeLoginModal()">
          <span>×</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
          <div class="form-group">
            <label for="email">Correo Electrónico</label>
            <input
              type="email"
              class="form-control"
              id="email"
              formControlName="correo"
              placeholder="Ingresa tu correo"
            />
          </div>
          <div class="form-group">
            <label for="password">Contraseña</label>
            <input
              type="password"
              class="form-control"
              id="password"
              formControlName="contrasenia"
              placeholder="Ingresa tu contraseña"
            />
          </div>
          <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
        </form>
        <a href="#" (click)="openRegisterModal($event)"
          >¿No tienes cuenta? Regístrate</a
        >
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="closeLoginModal()"
        >
          Cerrar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Registro -->
<div class="modal" tabindex="-1" role="dialog" *ngIf="isRegisterModalOpen">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Registro de Usuario</h5>
        <button type="button" class="close" (click)="closeRegisterModal()">
          <span>×</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
          <div class="form-group">
            <label for="registerEmail">Correo Electrónico</label>
            <input
              type="email"
              class="form-control"
              id="registerEmail"
              formControlName="correo"
              placeholder="Ingresa tu correo"
            />
          </div>
          <div class="form-group">
            <label for="registerPassword">Contraseña</label>
            <input
              type="password"
              class="form-control"
              id="registerPassword"
              formControlName="contrasenia"
              placeholder="Ingresa tu contraseña"
            />
          </div>
          <button type="submit" class="btn btn-primary">Registrarse</button>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="closeRegisterModal()"
        >
          Cerrar
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal" tabindex="-1" role="dialog" *ngIf="isUserModalOpen">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Datos del Usuario</h5>
        <button type="button" class="close" (click)="closeUserModal()">
          <span>&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- Aquí irían los datos del usuario -->
        <p>Nombre: {{ userName }}</p>
        <p>Correo: {{ userEmail }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="logout()">
          Cerrar Sesión
        </button>
        <button
          type="button"
          class="btn btn-secondary"
          (click)="closeUserModal()"
        >
          Cerrar
        </button>
        <button
          *ngIf="isAdmin"
          type="button"
          class="btn btn-primary"
          (click)="navigateToAdminPage()"
        >
          Ir a página de administrador
        </button>
      </div>
    </div>
  </div>
</div>

<!-- </div> -->
